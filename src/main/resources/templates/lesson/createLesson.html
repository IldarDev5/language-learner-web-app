<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title tiles:fragment="title">Create New Lesson</title>
</head>
<body>
    <div tiles:fragment="content">
        <h2>Create new lesson</h2>
        <!--<ul th:if="${#fields.hasAnyErrors()}">-->
            <!--<li th:each="err : ${#fields.errors('*')}" th:text="${err}">Input is incorrect</li>-->
        <!--</ul>-->
        <form method="post" th:action="@{/lessons/create}" th:object="${lesson}">
            <input type="hidden" th:field="*{clusterId}" />
            <fieldset>
                <legend>Enter lesson data, including translations</legend>
                <table>
                    <tr>
                        <td><label th:for="lessonName">Lesson name:</label></td>
                        <td><input th:field="*{lessonName}" type="text" /></td>
                    </tr>
                    <tr>
                        <td><label th:for="description">Description:</label></td>
                        <td><textarea th:field="*{description}" row="5" cols="30" ></textarea></td>
                    </tr>
                    <tr>
                        <td><label th:for="translations">Translations:</label></td>
                        <td>
                            <!--@thymesVar id="language1" type="java.lang.String"-->
                            <!--@thymesVar id="language2" type="java.lang.String"-->
                            <div th:text="|Enter a sentence in ${language1} and
                            corresponding translation in ${language2}|">
                                Enter a sentence in English and corresponding translation in Russian
                            </div>
                            <table border="1">
                                <tr>
                                    <th>Sentence</th>
                                    <th>Translation</th>
                                </tr>
                                <tr th:each="translation,trStat : *{translations}">
                                    <td><input type="text"
                                          th:field="*{translations[__${trStat.index}__].sentence1}" />
                                    </td>
                                    <td><input type="text"
                                          th:field="*{translations[__${trStat.index}__].sentence2}" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button type="submit" name="addTranslation">
                                            Add translation
                                        </button>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </fieldset>
            <input type="submit" value="Add lesson" />
        </form>
    </div>
</body>
</html>